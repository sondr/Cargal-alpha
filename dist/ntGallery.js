/*!
 * NotYet_TS_Lib_Template.ts v0.1.0
 * Copyright (c) 2018-2018 Sondre Tveit Erno
 * @license ISC
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("ntGallery",[],t):"object"==typeof exports?exports.ntGallery=t():e.ntGallery=t()}(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9),i=function(){function e(e,n,i,o){this.DOM=e,this.global=n,this.container=i,this.defaultOptions=o,this.variables={},t._PLATFORM=this,this.overlay=r.Overlay.create()}return e.create=function(n,r,i,o){return t._PLATFORM=new e(n,r,i,o),t._PLATFORM},e}();t.PLATFORM=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._CLASSNAMES=function(){var e={active:"active",hidden:"hidden",fixed:"fixed",carouselContainer:"carousel",thumbnailContainer:"thumbnail-container",overlay:"overlay",fullscreenContainer:"fs-container",fullscreenGallery:"fs-gallery",fullscreenMenuBar:"fs-menubar",fullscreenMenuBarTitle:"fs-menubar-title",fullscreenMenuBarBtnGroup:"fs-menubar-btn-group",fullscreenMenuBarBtn:"fs-menubar-btn",externalIncludeImage:"external-include",preventScroll:"prevent-scroll",iconClose:"close"},t=[e.active,e.hidden,e.fixed];return Object.keys(e).forEach(function(n,r){t.includes(n)||(e[n]="nyg-"+e[n])}),console.log("prepared classnames",e),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);function i(e,t,n){var i=r._PLATFORM.DOM.createElement(e);return t&&(i.className=t),n&&(i.textContent=n),i}t.createElement=i;var o=function(){function e(e){e.tagName||(e.tagName="div"),this.parentElement=e.parentElement,this.options=e,this.element=i(e.tagName,e.classes,this.options.textContent),this.children=this.mapChildren(e.children),this.init()}return e.prototype.init=function(){var e=this;this.options.eventListeners&&this.options.eventListeners.length>0&&this.options.eventListeners.forEach(function(t){return e.element.addEventListener(t.action,t.handler)}),this.parentElement&&this.parentElement.appendChild(this.element)},e.prototype.mapChildren=function(t){var n=this;return t&&Array.isArray(t)?t.map(function(t){return t instanceof e?t:(t.parentElement=n.element,new e(t))}):[]},e.prototype.dispose=function(){var e=this;this.children&&this.children.forEach(function(t){t.dispose(),e.element.removeChild(t.element)}),!this.options.eventListeners||this.options.eventListeners.length<=0||(this.options.eventListeners.forEach(function(t){return e.element.removeEventListener(t.action,t.handler)}),this.parentElement&&this.parentElement.removeChild(this.element))},e}();t.nyGalleryElement=o},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n(0),o=n(1),l=n(11),a=function(){function t(e){this.running=!1,this.gallery=e,this.thumbnails=new l.Thumbnails(this.gallery),e.media,this.buttons=this.appendButtons(),this.init()}return t.create=function(e){return new t(e)},t.prototype.init=function(){this.gallery.media.length<=0||(this.activeIndex=this.gallery.media.findIndex(function(e){return e.classList.contains(o._CLASSNAMES.active)}),-1==this.activeIndex&&this.set_active(0),this.gallery.options.carousel.autoplay&&this.play())},t.prototype.appendButtons=function(){var e=this;return[new r.nyGalleryElement({parentElement:this.gallery.container,classes:"btn-container left",eventListeners:[{action:"click",handler:function(t){e.cycle(-1),e.running&&e.stop()}}],children:[{classes:"left chevron"}]}),new r.nyGalleryElement({parentElement:this.gallery.container,classes:"btn-container right",eventListeners:[{action:"click",handler:function(t){e.cycle(1),e.running&&e.stop()}}],children:[{classes:"right chevron"}]})]},t.prototype.togglePlay=function(){this.running?this.stop():this.play()},t.prototype.play=function(){var t=this;this.running||(i._PLATFORM.global.clearInterval(this.intervalTimer),this.intervalTimer=e.setInterval(function(){t.gallery.options.carousel.autoplay_repeat||t.activeIndex!=t.gallery.media.length-1||i._PLATFORM.global.clearInterval(t.intervalTimer),t.cycle(1)},this.gallery.options.carousel.slideInterval),this.running=!0)},t.prototype.stop=function(){i._PLATFORM.global.clearInterval(this.intervalTimer),this.running=!1},t.prototype.cycle=function(e){if(!(this.gallery.media.length<=0)){e%=this.gallery.media.length;var t=this.activeIndex+e;t>=this.gallery.media.length&&(t-=this.gallery.media.length),t<0&&(t+=this.gallery.media.length),this.set_active(t)}},t.prototype.set_active=function(e){e>=this.gallery.media.length||(void 0!=this.activeIndex&&this.set_inactive(this.activeIndex),this.gallery.media[e].classList.add(o._CLASSNAMES.active),this.activeIndex=e)},t.prototype.set_interval=function(e){this.gallery.options.carousel.slideInterval=e,this.restart()},t.prototype.dispose=function(){this.buttons.forEach(function(e){return e.dispose()})},t.prototype.restart=function(){this.stop(),this.play()},t.prototype.set_inactive=function(e){e>=this.gallery.media.length||e<0||this.gallery.media[e].classList.remove(o._CLASSNAMES.active)},t.prototype.set_all_inactive=function(){this.gallery.media.forEach(function(e){return e.classList.remove(o._CLASSNAMES.active)})},t}();t.Carousel=a}).call(this,n(8))},function(e,t,n){e.exports=n(5)},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function l(e){try{s(r.next(e))}catch(e){o(e)}}function a(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(l,a)}s((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,r=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(i=(i=l.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){l.label=o[1];break}if(6===o[0]&&l.label<i[1]){l.label=i[1],i=o;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(o);break}i[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),n(15);var o=n(6),l=n(12);t.init=function(e){return r(this,void 0,void 0,function(){var t,n;return i(this,function(r){switch(r.label){case 0:return t=(new Date).getMilliseconds(),n=o.Gallery.bind,[4,l.Configure(e)];case 1:return new(n.apply(o.Gallery,[void 0,r.sent()])),console.log("Time: ",((new Date).getMilliseconds()-t)/1e3),[2]}})})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7),i=n(1),o=n(3),l=n(0),a=n(2),s=function(){function e(e){this.galleries=[],l.PLATFORM.create(e.document,e.window,e.containerElement,e.options),console.log(e),this.find_DOM_galleries(e),this.setup()}return e.prototype.find_DOM_galleries=function(e){for(var t=l._PLATFORM.DOM.getElementsByClassName(i._CLASSNAMES.carouselContainer),n=Array.from(l._PLATFORM.DOM.getElementsByClassName(i._CLASSNAMES.externalIncludeImage)),r=function(e){var r=t.item(e),i=[];console.log(r.dataset);var s=Object.assign({},l._PLATFORM.defaultOptions);r.id?(s.Id=r.id,i=n.filter(function(e){return e.dataset.nygInclude==s.Id}).map(function(e){var t=e.cloneNode(!0),n=a.createElement("div","item");return n.appendChild(t),n})):s.Id="nyg-id-"+e,o.galleries.push({options:s,container:r,media:Array.from(r.getElementsByClassName("item")),externalMedia:i}),console.log(o.galleries[o.galleries.length-1].media)},o=this,s=0;s<t.length;s++)r(s)},e.prototype.setup=function(){var e=this;this.galleries.forEach(function(t){e.Attach_EventListeners(t),t.Carousel=o.Carousel.create(t),t.Fullscreen=r.Fullscreen.create(t)})},e.prototype.Attach_EventListeners=function(e){var t=e.media.length;e.media.forEach(function(t,n){return t.addEventListener("click",function(t){return e.Fullscreen.show(n)})}),e.externalMedia.forEach(function(n,r){return n.addEventListener("click",function(n){return e.Fullscreen.show(t+r)})})},e.prototype.Detach_EventListeners=function(e){},e}();t.Gallery=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(0),o=function(){function e(e){var t=this;this.gallery=e,this.images=this.gallery.media.concat(this.gallery.externalMedia).map(function(e){return e.cloneNode(!0)}),this.containerElement=i._PLATFORM.overlay.initiateFullscreen(),this.images.forEach(function(e){return t.containerElement.appendChild(e)});var n=JSON.parse(JSON.stringify(this.gallery.options));n.carousel=n.fullscreen,this.carousel=r.Carousel.create({media:this.images,container:this.containerElement,options:n})}return e.create=function(t){return new e(t)},e.prototype.show=function(e){i._PLATFORM.overlay.menubar.set_fixed(this.gallery.options.fullscreen.menuBarFixed),e&&this.carousel.set_active(e),i._PLATFORM.overlay.show(this.containerElement)},e}();t.Fullscreen=o},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10),i=n(0),o=n(1),l=function(){function e(){this.fullScreenElements=[],this.fullscreenContainerElement=i._PLATFORM.DOM.createElement("div"),this.fullscreenContainerElement.className=o._CLASSNAMES.fullscreenContainer,this.element=this.create_element(),this.menubar=r.MenuBar.create(this.element),this.append_overlay()}return e.create=function(){return new e},e.prototype.initiateFullscreen=function(){var e=i._PLATFORM.DOM.createElement("div");return e.className=""+o._CLASSNAMES.carouselContainer,this.fullScreenElements.push(e),e},e.prototype.show=function(e){"number"==typeof this.activeFullscreenElementIndex&&this.fullscreenContainerElement.removeChild(this.fullScreenElements[this.activeFullscreenElementIndex]);var t=this.fullScreenElements.findIndex(function(t){return t===e});this.fullscreenContainerElement.appendChild(e),this.activeFullscreenElementIndex=t,e.classList.remove(o._CLASSNAMES.hidden),this.element.classList.add(o._CLASSNAMES.active),this.prevent_scroll()},e.prototype.close=function(){this.element.classList.remove(o._CLASSNAMES.active),this.allow_scroll()},e.prototype.add_fullscreen_element=function(e){this.element.appendChild(e)},e.prototype.remove_fullscreen_element=function(e){this.element.removeChild(e)},e.prototype.destroy=function(){this.menubar.dispose(),this.remove_childs(),this.remove_overlay()},e.prototype.create_element=function(){var e=document.createElement("div");return e.className=o._CLASSNAMES.overlay,e},e.prototype.remove_childs=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild)},e.prototype.append_overlay=function(){this.element.appendChild(this.fullscreenContainerElement),i._PLATFORM.container.appendChild(this.element)},e.prototype.remove_overlay=function(){i._PLATFORM.container.removeChild(this.element)},e.prototype.prevent_scroll=function(){i._PLATFORM.DOM.body.classList.add(o._CLASSNAMES.preventScroll),i._PLATFORM.global.addEventListener("touchmove",function(e){return e.preventDefault})},e.prototype.allow_scroll=function(){i._PLATFORM.DOM.body.classList.remove(o._CLASSNAMES.preventScroll),i._PLATFORM.global.removeEventListener("touchmove",function(e){return e.preventDefault})},e}();t.Overlay=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(0),o=n(2),l=function(){function e(e){this.container=e,this.nyGalleryElementContainer=this.create_element(this.container)}return e.create=function(t){return new e(t)},e.prototype.set_fixed=function(e){e?this.nyGalleryElementContainer.element.classList.add(r._CLASSNAMES.fixed):this.nyGalleryElementContainer.element.classList.remove(r._CLASSNAMES.fixed)},e.prototype.dispose=function(){this.nyGalleryElementContainer.dispose()},e.prototype.create_element=function(e){return new o.nyGalleryElement({parentElement:e,classes:r._CLASSNAMES.fullscreenMenuBar,children:[{classes:r._CLASSNAMES.fullscreenMenuBarTitle,textContent:"Tittel"},{classes:r._CLASSNAMES.fullscreenMenuBarBtnGroup,children:[{classes:r._CLASSNAMES.fullscreenMenuBarBtn+" "+r._CLASSNAMES.iconClose,eventListeners:[{action:"click",handler:function(e){i._PLATFORM.overlay.close()}}]}]}]})},e}();t.MenuBar=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=function(){function e(e){this.gallery=e,this.container=r._PLATFORM.DOM.createElement("div")}return e.prototype.create_thumbnails=function(){},e}();t.Thumbnails=i},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function l(e){try{s(r.next(e))}catch(e){o(e)}}function a(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(l,a)}s((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,r=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(i=(i=l.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){l.label=o[1];break}if(6===o[0]&&l.label<i[1]){l.label=i[1],i=o;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(o);break}i[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(13);function l(e,t){var n=null;t=t.trim();try{if(1==t.split(" ").length)switch(t){case"#":n=e.getElementById?e.getElementById(t.substr(1)):e.querySelector(t);break;case".":n=e.getElementsByClassName(t.substr(1)).item(0);break;default:n=e.getElementsByTagName(t.substr(1)).item(0)}else n=e.querySelector(t)}catch(e){console.log(e)}return n}t.Configure=function(e){return r(this,void 0,void 0,function(){var t,n,r,a,s;return i(this,function(i){switch(i.label){case 0:return n=(t=[{autoplay:!0,autoplay_repeat:!0,backgroundColor:"#FFFFFF",opacity:void 0,slideInterval:1e4,thumbnails:!1,Events:void 0},{menuBarFixed:!0,opacity:.95,autoplay:!1,autoplay_repeat:!1,backgroundColor:"#222",slideInterval:1e4,thumbnails:!0,Events:void 0}])[0],r=t[1],a={window:window,autoInitCarousels:!0,options:{lazyLoad:!0}},(a=Object.assign({},a,e||{})).options.carousel=Object.assign({},n,a.options.carousel||{}),a.options.fullscreen=Object.assign({},r,a.options.fullscreen||{}),s=a,[4,o.ready(a.document)];case 1:return s.document=i.sent(),a.rootElement&&"string"==typeof a.rootElement&&l(a.document,a.rootElement),a.containerElement||(a.containerElement=a.document.body),[2,a]}})})},t.Find_Element=l},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function l(e){try{s(r.next(e))}catch(e){o(e)}}function a(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(l,a)}s((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,r=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(i=(i=l.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){l.label=o[1];break}if(6===o[0]&&l.label<i[1]){l.label=i[1],i=o;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(o);break}i[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.ready=function(e){return void 0===e&&(e=document),r(this,void 0,void 0,function(){return i(this,function(t){return[2,new Promise(function(t,n){try{if("loading"===e.readyState){var r=function(){e.removeEventListener("DOMContentLoaded",r),t(e)};e.addEventListener("DOMContentLoaded",r)}else t(e)}catch(e){n(e)}})]})})}},,function(e,t){}])});